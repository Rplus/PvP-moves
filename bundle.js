var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function o(t,e,n=e){return t.set(n),e}function c(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function p(){return m(" ")}function h(){return m("")}function g(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function v(t){return function(e){return e.preventDefault(),t.call(this,e)}}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){(null!=e||t.value)&&(t.value=e)}function w(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}let k;function M(t){k=t}const L=[],S=[],_=[],P=[],H=Promise.resolve();let T=!1;function j(t){_.push(t)}function N(){const t=new Set;do{for(;L.length;){const t=L.shift();M(t),F(t.$$)}for(;S.length;)S.pop()();for(let e=0;e<_.length;e+=1){const n=_[e];t.has(n)||(n(),t.add(n))}_.length=0}while(L.length);for(;P.length;)P.pop()();T=!1}function F(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const I=new Set;let z;function D(){z={r:0,c:[],p:z}}function A(){z.r||s(z.c),z=z.p}function C(t,e){t&&t.i&&(I.delete(t),t.i(e))}function E(t,e,n,s){if(t&&t.o){if(I.has(t))return;I.add(t),z.c.push(()=>{I.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function G(t,e){t.d(1),e.delete(t.key)}function O(t,e,n,s,r,l,a,o,c,i,d,u){let f=t.length,m=l.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const g=[],v=new Map,$=new Map;for(p=m;p--;){const t=u(r,l,p),o=n(t);let c=a.get(o);c?s&&c.p(t,e):(c=i(o,t),c.c()),v.set(o,g[p]=c),o in h&&$.set(o,Math.abs(p-h[o]))}const b=new Set,y=new Set;function w(t){C(t,1),t.m(o,d),a.set(t.key,t),d=t.first,m--}for(;f&&m;){const e=g[m-1],n=t[f-1],s=e.key,r=n.key;e===n?(d=e.first,f--,m--):v.has(r)?!a.has(s)||b.has(s)?w(e):y.has(r)?f--:$.get(s)>$.get(r)?(y.add(s),w(e)):(b.add(r),f--):(c(n,a),f--)}for(;f--;){const e=t[f];v.has(e.key)||c(e,a)}for(;m;)w(g[m-1]);return g}function B(t){t&&t.c()}function J(t,n,l){const{fragment:a,on_mount:o,on_destroy:c,after_update:i}=t.$$;a&&a.m(n,l),j(()=>{const n=o.map(e).filter(r);c?c.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(j)}function q(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(L.push(t),T||(T=!0,H.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,r,l,a,o,c,i=[-1]){const d=k;M(e);const u=r.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:i};let m=!1;f.ctx=l?l(e,u,(t,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&o(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),m&&U(e,t)),n}):[],f.update(),m=!0,s(f.before_update),f.fragment=!!a&&a(f.ctx),r.target&&(r.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):f.fragment&&f.fragment.c(),r.intro&&C(e.$$.fragment),J(e,r.target,r.anchor),N()),M(d)}class V{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const W=[];function K(e,n=t){let s;const r=[];function a(t){if(l(e,t)&&(e=t,s)){const t=!W.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),W.push(n,e)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(l,o=t){const c=[l,o];return r.push(c),1===r.length&&(s=n(a)||t),l(e),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(s(),s=null)}}}}function Q(t=!1){let e=new URLSearchParams(location.search).getAll("dex").map(Number);return t?e:e[0]}function X(t){return JSON.parse(JSON.stringify(t))}function Y(t,e=2,n){let s=(+t).toFixed(e);return n?s:+s}const Z=["æ”»","é˜²"],tt={opponent:"æ•µ",self:"å·±"};function et(t){if(!t||!t.key)return!1;let e=nt()||{};e[t.key]=t.value,localStorage.setItem("PvP-Moves",JSON.stringify(e))}function nt(t){let e=localStorage.getItem("PvP-Moves");return e?(e=JSON.parse(e),t?e[t]:e):null}const st={8:.37523559,13:.48168495};function rt(t,e){let[n,s,r,l]=e,a=st[l],o=(t.atk+n)*Math.pow((t.def+s)*(t.sta+r),.5)*Math.pow(a,2);return Math.max(10,Math.floor(o/10))}function lt(t,e){let n=[10,11,12,13,14,15],s=rt(t,[10,10,10,e]);for(let r of n)for(let l of n)for(let a of n){let n=rt(t,[r,l,a,e]);n<=s||(r<12||l<12||a<12)&&(s=n)}return s+1}const at=K(Q()||371),ot=K(Q(!0));at.subscribe(t=>{ot.update(e=>[...new Set([...e,t].reverse())].reverse().slice(-10)),history.pushState({dex:t},null,`?dex=${t}`)}),window.addEventListener("popstate",t=>{let e=Q();at.set(e)});const ct=K([]),it=K([]);fetch("gm.json").then((function(t){return t.json()})).then(t=>{console.log("gm done:",t),ct.set(t.pokemon),it.set(t.moves)});const dt=function(e,n,l){const a=!Array.isArray(e),o=a?[e]:e,c=n.length<2;return{subscribe:K(l,e=>{let l=!1;const i=[];let d=0,u=t;const f=()=>{if(d)return;u();const s=n(a?i[0]:i,e);c?e(s):u=r(s)?s:t},m=o.map((t,e)=>t.subscribe(t=>{i[e]=t,d&=~(1<<e),l&&f()},()=>{d|=1<<e}));return l=!0,f(),function(){s(m),u()}}).subscribe}}(ct,t=>t.map(t=>function(t,e=t){return`<option value="${t}" label="${e}"></option>`}(t.dex,`${t.name}, ${t.id}`.toUpperCase())).join("")),ut=function(){let t=Boolean(nt("gridview"));const{subscribe:e,set:n,update:s}=K(t);return{subscribe:e,set:t=>{n(t),et({key:"gridview",value:t})}}}(),ft=function(){let t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=nt("darktheme");null===e&&(e=t);const{subscribe:n,set:s,update:r}=K(Boolean(e));return{subscribe:n,set:t=>{s(t),et({key:"darktheme",value:t})}}}();function mt(e){let n,r,l,a,o,u,h,w,x,k,M,L,S;return{c(){n=f("form"),r=f("label"),r.textContent="Dex: #",l=p(),a=f("div"),o=f("input"),u=p(),h=f("button"),w=m("ðŸ¤œ "),x=m(e[2]),k=m(" ðŸ¤›"),M=p(),L=f("datalist"),$(r,"class","mr-2"),$(r,"for","dex"),$(o,"list","pm-names"),$(o,"class","pm-dex-selector mr-2 svelte-f5albj"),$(o,"id","dex"),$(o,"name","dex"),o.required=!0,$(o,"pattern","\\d+"),$(o,"title","Should be a Number."),$(a,"class","input-wrapper mr-1 svelte-f5albj"),$(h,"type","submit"),$(h,"class","svelte-f5albj"),$(L,"id","pm-names"),$(n,"class","selector card L1-box df ai-b svelte-f5albj")},m(t,s){i(t,n,s),c(n,r),c(n,l),c(n,a),c(a,o),y(o,e[0]),e[8](o),c(n,u),c(n,h),c(h,w),c(h,x),c(h,k),c(n,M),c(n,L),L.innerHTML=e[3],S=[g(o,"input",e[7]),g(n,"submit",v(e[4]))]},p(t,[e]){1&e&&o.value!==t[0]&&y(o,t[0]),4&e&&b(x,t[2]),8&e&&(L.innerHTML=t[3])},i:t,o:t,d(t){t&&d(n),e[8](null),s(S)}}}function pt(t,e,n){let s,r,l;a(t,at,t=>n(5,s=t)),a(t,ct,t=>n(6,r=t)),a(t,dt,t=>n(3,l=t));let c,i=s,d="";return t.$$.update=()=>{if(65&t.$$.dirty){let t=r.find(t=>t.dex===+i);n(2,d=t&&t.name||"NG")}},[i,c,d,l,function(t){if(!r.length)return;let e=+t.target.dex.value;r.find(t=>t.dex===e)?(console.info("submit",e,s),o(at,s=e)):console.error(`Wrong Dex: ${e}`)},s,r,function(){i=this.value,n(0,i)},function(t){S[t?"unshift":"push"](()=>{n(1,c=t)})}]}class ht extends V{constructor(t){super(),R(this,t,pt,mt,l,{})}}function gt(t){let e,n,s,r,l,a,o,u,g,v,y,x=t[0].power+"",k=t[0].energy+"",M=t[0].dpe+"",L=t[0].buffs&&$t(t);return{c(){e=f("div"),n=m(x),s=p(),r=f("div"),l=m("-"),a=m(k),o=p(),u=f("div"),g=m(M),v=p(),L&&L.c(),y=h(),$(e,"class","m-power m-grid svelte-1awno4m"),$(e,"title","power"),$(r,"class","m-energy m-energy_c m-grid svelte-1awno4m"),$(r,"title","energy"),w(r,"--bgzx",t[0].energy+"%"),$(u,"class","m-dpe m-grid svelte-1awno4m"),$(u,"title","dpe")},m(t,d){i(t,e,d),c(e,n),i(t,s,d),i(t,r,d),c(r,l),c(r,a),i(t,o,d),i(t,u,d),c(u,g),i(t,v,d),L&&L.m(t,d),i(t,y,d)},p(t,e){1&e&&x!==(x=t[0].power+"")&&b(n,x),1&e&&k!==(k=t[0].energy+"")&&b(a,k),1&e&&w(r,"--bgzx",t[0].energy+"%"),1&e&&M!==(M=t[0].dpe+"")&&b(g,M),t[0].buffs?L?L.p(t,e):(L=$t(t),L.c(),L.m(y.parentNode,y)):L&&(L.d(1),L=null)},d(t){t&&d(e),t&&d(s),t&&d(r),t&&d(o),t&&d(u),t&&d(v),L&&L.d(t),t&&d(y)}}}function vt(t){let e,n,s,r,l,a,o,u,h,g,v,y,w,x,k,M=t[0].power+"",L=t[0].energyGain+"",S=t[0].turn+"",_=t[0].dpt+"",P=t[0].ept+"";return{c(){e=f("div"),n=m(M),s=p(),r=f("div"),l=m(L),a=p(),o=f("div"),u=m(S),h=p(),g=f("div"),v=m(_),y=p(),w=f("div"),x=m(P),$(e,"class","m-power m-grid svelte-1awno4m"),$(e,"title","power"),$(r,"class","m-energy m-grid svelte-1awno4m"),$(r,"title","energy"),$(o,"class","m-turn m-grid svelte-1awno4m"),$(o,"grid-size","full"),$(o,"title","turn"),$(g,"class","m-dpt m-grid svelte-1awno4m"),$(g,"title","dpt"),$(w,"class","m-ept m-grid svelte-1awno4m"),$(w,"title","ept"),$(w,"data-eptxdpt",k=t[0].eptxdpt)},m(t,d){i(t,e,d),c(e,n),i(t,s,d),i(t,r,d),c(r,l),i(t,a,d),i(t,o,d),c(o,u),i(t,h,d),i(t,g,d),c(g,v),i(t,y,d),i(t,w,d),c(w,x)},p(t,e){1&e&&M!==(M=t[0].power+"")&&b(n,M),1&e&&L!==(L=t[0].energyGain+"")&&b(l,L),1&e&&S!==(S=t[0].turn+"")&&b(u,S),1&e&&_!==(_=t[0].dpt+"")&&b(v,_),1&e&&P!==(P=t[0].ept+"")&&b(x,P),1&e&&k!==(k=t[0].eptxdpt)&&$(w,"data-eptxdpt",k)},d(t){t&&d(e),t&&d(s),t&&d(r),t&&d(a),t&&d(o),t&&d(h),t&&d(g),t&&d(y),t&&d(w)}}}function $t(t){let e,n,s=t[0].buffsDes+"";return{c(){e=f("div"),n=m(s),$(e,"class","m-effect m-grid svelte-1awno4m"),$(e,"grid-size","full"),$(e,"title","effect")},m(t,s){i(t,e,s),c(e,n)},p(t,e){1&e&&s!==(s=t[0].buffsDes+"")&&b(n,s)},d(t){t&&d(e)}}}function bt(e){let n,s,r,l,a,o,u,h,g,v,y,w=e[0].name+"";function k(t,e){return t[0].isFast?vt:gt}let M=k(e),L=M(e);return{c(){n=f("div"),s=f("div"),r=f("div"),l=f("div"),o=p(),u=f("div"),h=m(w),y=p(),L.c(),$(l,"class","m-icon type-icon mr-1 svelte-1awno4m"),$(l,"data-type",a=e[0].type),$(u,"class","m-name svelte-1awno4m"),$(r,"class","m-title df df-c ai-c"),$(s,"class","m-info m-grid svelte-1awno4m"),$(s,"grid-size","full"),$(s,"title",g=e[0].moveId),$(s,"data-title",v=e[0].moveId),$(n,"class","move-item svelte-1awno4m"),x(n,"is-fast",e[0].isFast),x(n,"is-charged",!e[0].isFast),x(n,"is-legacy",e[0].isLegacy),x(n,"is-stab",e[0].stab)},m(t,e){i(t,n,e),c(n,s),c(s,r),c(r,l),c(r,o),c(r,u),c(u,h),c(n,y),L.m(n,null)},p(t,[e]){1&e&&a!==(a=t[0].type)&&$(l,"data-type",a),1&e&&w!==(w=t[0].name+"")&&b(h,w),1&e&&g!==(g=t[0].moveId)&&$(s,"title",g),1&e&&v!==(v=t[0].moveId)&&$(s,"data-title",v),M===(M=k(t))&&L?L.p(t,e):(L.d(1),L=M(t),L&&(L.c(),L.m(n,null))),1&e&&x(n,"is-fast",t[0].isFast),1&e&&x(n,"is-charged",!t[0].isFast),1&e&&x(n,"is-legacy",t[0].isLegacy),1&e&&x(n,"is-stab",t[0].stab)},i:t,o:t,d(t){t&&d(n),L.d()}}}function yt(t,e,n){let{mdata:s}=e;return t.$set=t=>{"mdata"in t&&n(0,s=t.mdata)},[s]}class wt extends V{constructor(t){super(),R(this,t,yt,bt,l,{mdata:0})}}function xt(t,e,n){const s=t.slice();return s[9]=e[n],s}function kt(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function Mt(t,e){let n,s,l,a,o,u,h=e[12].title+"";return{key:t,first:null,c(){n=f("div"),s=m(h),l=p(),$(n,"class","td th svelte-1k083f"),$(n,"data-order",a=e[12].order),$(n,"data-dir",o=e[12].dir?e[12].dir>0?"â–²":"â–¼":null),x(n,"mname",!e[12].value),x(n,"sort-th",e[12].value),this.first=n},m(t,a){i(t,n,a),c(n,s),c(n,l),u=g(n,"click",(function(){r(e[2](e[12].value))&&e[2](e[12].value).apply(this,arguments)}))},p(t,r){e=t,2&r&&h!==(h=e[12].title+"")&&b(s,h),2&r&&a!==(a=e[12].order)&&$(n,"data-order",a),2&r&&o!==(o=e[12].dir?e[12].dir>0?"â–²":"â–¼":null)&&$(n,"data-dir",o),2&r&&x(n,"mname",!e[12].value),2&r&&x(n,"sort-th",e[12].value)},d(t){t&&d(n),u()}}}function Lt(t){let e,n,s,r,l,a,o,u,h,g,v,y,w,x,k,M,L,S,_=t[9].turns+"",P=t[9].hits+"",H=_t(t[9].dmg_t)+"",T=_t(t[9].dpt)+"",j=t[9].f.name+"",N=t[9].c.name+"";return{c(){e=f("div"),n=f("div"),s=m(_),r=p(),l=f("div"),a=m(P),o=p(),u=f("div"),h=p(),g=f("div"),v=p(),y=f("div"),w=m(j),k=p(),M=f("div"),L=m(N),S=p(),$(n,"class","td svelte-1k083f"),$(l,"class","td svelte-1k083f"),$(u,"class","td svelte-1k083f"),$(g,"class","td svelte-1k083f"),$(y,"class","td mname svelte-1k083f"),$(y,"title",x=t[9].f),$(M,"class","td mname svelte-1k083f"),$(e,"class","tr svelte-1k083f")},m(t,d){i(t,e,d),c(e,n),c(n,s),c(e,r),c(e,l),c(l,a),c(e,o),c(e,u),u.innerHTML=H,c(e,h),c(e,g),g.innerHTML=T,c(e,v),c(e,y),c(y,w),c(e,k),c(e,M),c(M,L),c(e,S)},p(t,e){1&e&&_!==(_=t[9].turns+"")&&b(s,_),1&e&&P!==(P=t[9].hits+"")&&b(a,P),1&e&&H!==(H=_t(t[9].dmg_t)+"")&&(u.innerHTML=H),1&e&&T!==(T=_t(t[9].dpt)+"")&&(g.innerHTML=T),1&e&&j!==(j=t[9].f.name+"")&&b(w,j),1&e&&x!==(x=t[9].f)&&$(y,"title",x),1&e&&N!==(N=t[9].c.name+"")&&b(L,N)},d(t){t&&d(e)}}}function St(e){let n,s,r,l,a,o,m,h,g=[],v=new Map,b=e[1];const y=t=>t[12].title;for(let t=0;t<b.length;t+=1){let n=kt(e,b,t),s=y(n);v.set(s,g[t]=Mt(s,n))}let w=e[0],x=[];for(let t=0;t<w.length;t+=1)x[t]=Lt(xt(e,w,t));return{c(){n=f("section"),s=f("div"),r=f("details"),l=f("summary"),l.innerHTML='<h3 class="d-ib">Move Pairs</h3>',a=p(),o=f("div"),m=f("div");for(let t=0;t<g.length;t+=1)g[t].c();h=p();for(let t=0;t<x.length;t+=1)x[t].c();$(m,"class","tr thead svelte-1k083f"),$(o,"class","move-pairs svelte-1k083f"),r.open=!0,$(s,"class","card"),$(n,"class","pairs-section")},m(t,e){i(t,n,e),c(n,s),c(s,r),c(r,l),c(r,a),c(r,o),c(o,m);for(let t=0;t<g.length;t+=1)g[t].m(m,null);c(o,h);for(let t=0;t<x.length;t+=1)x[t].m(o,null)},p(t,[e]){const n=t[1];if(g=O(g,e,y,1,t,n,v,m,G,Mt,null,kt),1&e){let n;for(w=t[0],n=0;n<w.length;n+=1){const s=xt(t,w,n);x[n]?x[n].p(s,e):(x[n]=Lt(s),x[n].c(),x[n].m(o,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=w.length}},i:t,o:t,d(t){t&&d(n);for(let t=0;t<g.length;t+=1)g[t].d();u(x,t)}}}function _t(t,e=1){let n=Y(t,e,!0).split(".");return n[1]=`<small class="decimal">.${n[1]}</small>`,n.join("")}function Pt(t,e,n){let s,r,{mdata:l}=e,a=[["turns",1],["dmg_t",-1]],o=[{title:"t",value:"turns"},{title:"H",value:"hits"},{title:"Î£dmg",value:"dmg_t"},{title:"DPT",value:"dpt"},{title:"f.name"},{title:"c.name"}];function c(t,e){let[[n,s],[r,l]]=a;return t[n]>e[n]?s:t[n]<e[n]?-s:t[r]>e[r]?l:-l}return t.$set=t=>{"mdata"in t&&n(3,l=t.mdata)},t.$$.update=()=>{25&t.$$.dirty&&(n(0,s=[]),console.log("ttfa",l,s),function(){for(let t of l[0].data)for(let e of l[1].data){let r=Math.ceil(e.energy/t.energyGain),l=r*t.turn,a=t.power*r*t.stabFactor,o=a+e.power*e.stabFactor,c=o/l;n(0,s=s.concat({f:t,c:e,turns:l,hits:r,dmg_f:a,dmg_t:o,dpt:c}))}}(),n(0,s=s.sort(c)),n(1,r=X(o).map(t=>{if(!t.value)return t;let e=a.findIndex(e=>e[0]===t.value);return-1===e?t:(t.dir=a[e][1],t.order=e+1,t)})),console.log("ttfa",l,s))},[s,r,t=>e=>{if(!t)return;let s=a.findIndex(e=>e[0]===t);-1===s?(a.push([t,1]),n(4,a=a.slice(-2))):n(4,a[s][1]=-1*a[s][1],a)},l]}class Ht extends V{constructor(t){super(),R(this,t,Pt,St,l,{mdata:3})}}function Tt(t,e,n){const s=t.slice();return s[9]=e[n],s}function jt(t,e,n){const s=t.slice();return s[6]=e[n],s}function Nt(t){let e;const n=new wt({props:{mdata:t[9]}});return{c(){B(n.$$.fragment)},m(t,s){J(n,t,s),e=!0},p(t,e){const s={};1&e&&(s.mdata=t[9]),n.$set(s)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){E(n.$$.fragment,t),e=!1},d(t){q(n,t)}}}function Ft(t){let e,n,s,r,l,a,o,h,g,v=t[6].title+"",y=t[6].data,w=[];for(let e=0;e<y.length;e+=1)w[e]=Nt(Tt(t,y,e));const x=t=>E(w[t],1,1,()=>{w[t]=null});return{c(){e=f("div"),n=f("details"),s=f("summary"),r=f("h3"),l=m(v),a=p(),o=f("div");for(let t=0;t<w.length;t+=1)w[t].c();h=p(),$(r,"class","moveset-title d-ib"),$(o,"class","moveset svelte-1ksp2fv"),n.open=!0,$(e,"class","card")},m(t,d){i(t,e,d),c(e,n),c(n,s),c(s,r),c(r,l),c(n,a),c(n,o);for(let t=0;t<w.length;t+=1)w[t].m(o,null);c(e,h),g=!0},p(t,e){if((!g||1&e)&&v!==(v=t[6].title+"")&&b(l,v),1&e){let n;for(y=t[6].data,n=0;n<y.length;n+=1){const s=Tt(t,y,n);w[n]?(w[n].p(s,e),C(w[n],1)):(w[n]=Nt(s),w[n].c(),C(w[n],1),w[n].m(o,null))}for(D(),n=y.length;n<w.length;n+=1)x(n);A()}},i(t){if(!g){for(let t=0;t<y.length;t+=1)C(w[t]);g=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)E(w[t]);g=!1},d(t){t&&d(e),u(w,t)}}}function It(t){let e,n,s,r=t[0],l=[];for(let e=0;e<r.length;e+=1)l[e]=Ft(jt(t,r,e));const a=t=>E(l[t],1,1,()=>{l[t]=null}),o=new Ht({props:{mdata:t[0]}});return{c(){e=f("section");for(let t=0;t<l.length;t+=1)l[t].c();n=p(),B(o.$$.fragment),$(e,"class","moves")},m(t,r){i(t,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);i(t,n,r),J(o,t,r),s=!0},p(t,[n]){if(1&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const a=jt(t,r,s);l[s]?(l[s].p(a,n),C(l[s],1)):(l[s]=Ft(a),l[s].c(),C(l[s],1),l[s].m(e,null))}for(D(),s=r.length;s<l.length;s+=1)a(s);A()}const s={};1&n&&(s.mdata=t[0]),o.$set(s)},i(t){if(!s){for(let t=0;t<r.length;t+=1)C(l[t]);C(o.$$.fragment,t),s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)E(l[t]);E(o.$$.fragment,t),s=!1},d(t){t&&d(e),u(l,t),t&&d(n),q(o,t)}}}function zt(t,e,n){let s;a(t,it,t=>n(2,s=t));let{pm:r}=e;function l(t,e){let n=function(t){return X(s.find(e=>e.moveId===t))}(t);return n.isLegacy=c&&c.includes(t),n.isFast=e,n.stab=r.types.includes(n.type),n.stabFactor=n.stab?1.2:1,e?(n.ept=Y(n.energyGain/n.turn),n.dpt=Y(n.power/n.turn),n.eptxdpt=Y(n.ept*n.dpt)):(n.dpe=Y(n.power/n.energy),n.buffs&&(n.buffsDes=function(t){let e=t.buffs.map((t,e)=>t?`${t>0?"+":""}${t}éšŽ${Z[e]}`:"").filter(Boolean).join(", ");return`${100*t.buffApplyChance}%, ${e}, [${tt[t.buffTarget]}]`}(n))),n}let o,c=r.legacyMoves;return t.$set=t=>{"pm"in t&&n(1,r=t.pm)},t.$$.update=()=>{2&t.$$.dirty&&n(0,o=[{title:"Fast Moves",data:r.fastMoves.map(t=>l(t,!0))},{title:"Charged Moves",data:r.chargedMoves.map(t=>l(t,!1))}])},[o,r]}class Dt extends V{constructor(t){super(),R(this,t,zt,It,l,{pm:1})}}function At(t,e,n){const s=t.slice();return s[2]=e[n],s}function Ct(e){let n,s,r,l,a,o,u,h,g,v,b,y,w,x,k,M,L,S,_,P,H=e[2].lv+"",T=e[2].ooo+"",j=(e[2].ooo!==e[2].min?e[2].min:"")+"",N=e[2].ccc+"",F=e[2].wow+"",I=e[2].max+"";return{c(){n=f("tr"),s=f("th"),r=m("Lv"),l=m(H),a=p(),o=f("td"),u=m(T),h=p(),g=f("td"),v=m(j),b=p(),y=f("td"),w=m(N),x=p(),k=f("td"),M=m(F),L=p(),S=f("td"),_=m(I),P=p(),$(s,"class","svelte-1pd7psn"),$(o,"class","svelte-1pd7psn"),$(g,"class","svelte-1pd7psn"),$(y,"class","svelte-1pd7psn"),$(k,"class","svelte-1pd7psn"),$(S,"class","svelte-1pd7psn")},m(t,e){i(t,n,e),c(n,s),c(s,r),c(s,l),c(n,a),c(n,o),c(o,u),c(n,h),c(n,g),c(g,v),c(n,b),c(n,y),c(y,w),c(n,x),c(n,k),c(k,M),c(n,L),c(n,S),c(S,_),c(n,P)},p:t,d(t){t&&d(n)}}}function Et(e){let n,s,r,l,a=e[0],o=[];for(let t=0;t<a.length;t+=1)o[t]=Ct(At(e,a,t));return{c(){n=f("table"),s=f("thead"),s.innerHTML='<tr><th class="svelte-1pd7psn">IV / CP</th> \n      <th class="svelte-1pd7psn">0-0-0</th> \n      <th class="svelte-1pd7psn">4-4-4</th> \n      <th title="might be 100% after purified" class="svelte-1pd7psn">13-13-13</th> \n      <th title="should be 100% after purified" class="svelte-1pd7psn">â˜†â˜†â˜†â˜†</th> \n      <th class="svelte-1pd7psn">15-15-15</th></tr>',r=p(),l=f("tbody");for(let t=0;t<o.length;t+=1)o[t].c();$(n,"class","pm-cp svelte-1pd7psn")},m(t,e){i(t,n,e),c(n,s),c(n,r),c(n,l);for(let t=0;t<o.length;t+=1)o[t].m(l,null)},p(t,[e]){if(1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const s=At(t,a,n);o[n]?o[n].p(s,e):(o[n]=Ct(s),o[n].c(),o[n].m(l,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=a.length}},i:t,o:t,d(t){t&&d(n),u(o,t)}}}function Gt(t,e,n){let{ads:s}=e,r=[{lv:8,ooo:rt(s,[0,0,0,8]),min:rt(s,[0,0,0,8]),ccc:rt(s,[13,13,13,8]),max:rt(s,[15,15,15,8]),wow:lt(s,8)},{lv:13,ooo:rt(s,[0,0,0,13]),min:rt(s,[4,4,4,13]),ccc:rt(s,[13,13,13,13]),max:rt(s,[15,15,15,13]),wow:lt(s,13)}];return t.$set=t=>{"ads"in t&&n(1,s=t.ads)},[r,s]}class Ot extends V{constructor(t){super(),R(this,t,Gt,Et,l,{ads:1})}}function Bt(t,e,n){const s=t.slice();return s[3]=e[n],s}function Jt(t){let e,n,s,r,l,a,o,h,g,v,y,w,x,k,M,L,S,_,P,H,T,j,N,F,I,z=t[0].name+"",D=t[0].dex+"",A=t[0].baseStats.atk+"",G=t[0].baseStats.def+"",O=t[0].baseStats.sta+"",U=t[0].types,R=[];for(let e=0;e<U.length;e+=1)R[e]=qt(Bt(t,U,e));const V=new Ot({props:{ads:t[0].baseStats}}),W=new Dt({props:{pm:t[0]}});return{c(){e=f("section"),n=f("header"),s=f("div"),r=f("span"),l=m(z),a=p(),o=f("small"),h=m("#"),g=m(D),v=p(),y=f("div");for(let t=0;t<R.length;t+=1)R[t].c();w=p(),x=f("div"),k=f("div"),M=m(A),L=p(),S=f("div"),_=m(G),P=p(),H=f("div"),T=m(O),j=p(),N=f("div"),B(V.$$.fragment),F=p(),B(W.$$.fragment),$(r,"class","pm-name svelte-m8vw33"),$(o,"class","pm-dex svelte-m8vw33"),$(y,"class","pm-types df"),$(k,"class","base svelte-m8vw33"),$(k,"data-base","a"),$(S,"class","base svelte-m8vw33"),$(S,"data-base","d"),$(H,"class","base svelte-m8vw33"),$(H,"data-base","s"),$(x,"class","pm-stats svelte-m8vw33"),$(s,"class","df mb-4 mt-4"),$(N,"class","mb-5"),$(n,"class","pm-info card svelte-m8vw33"),$(e,"class","pm-section L1-box")},m(t,d){i(t,e,d),c(e,n),c(n,s),c(s,r),c(r,l),c(s,a),c(s,o),c(o,h),c(o,g),c(s,v),c(s,y);for(let t=0;t<R.length;t+=1)R[t].m(y,null);c(s,w),c(s,x),c(x,k),c(k,M),c(x,L),c(x,S),c(S,_),c(x,P),c(x,H),c(H,T),c(n,j),c(n,N),J(V,N,null),c(e,F),J(W,e,null),I=!0},p(t,e){if((!I||1&e)&&z!==(z=t[0].name+"")&&b(l,z),(!I||1&e)&&D!==(D=t[0].dex+"")&&b(g,D),1&e){let n;for(U=t[0].types,n=0;n<U.length;n+=1){const s=Bt(t,U,n);R[n]?R[n].p(s,e):(R[n]=qt(s),R[n].c(),R[n].m(y,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=U.length}(!I||1&e)&&A!==(A=t[0].baseStats.atk+"")&&b(M,A),(!I||1&e)&&G!==(G=t[0].baseStats.def+"")&&b(_,G),(!I||1&e)&&O!==(O=t[0].baseStats.sta+"")&&b(T,O);const n={};1&e&&(n.ads=t[0].baseStats),V.$set(n);const s={};1&e&&(s.pm=t[0]),W.$set(s)},i(t){I||(C(V.$$.fragment,t),C(W.$$.fragment,t),I=!0)},o(t){E(V.$$.fragment,t),E(W.$$.fragment,t),I=!1},d(t){t&&d(e),u(R,t),q(V),q(W)}}}function qt(t){let e,n,s;return{c(){e=f("div"),$(e,"class","pm-type type-icon svelte-m8vw33"),$(e,"data-type",n=t[3]),$(e,"title",s=t[3])},m(t,n){i(t,e,n)},p(t,r){1&r&&n!==(n=t[3])&&$(e,"data-type",n),1&r&&s!==(s=t[3])&&$(e,"title",s)},d(t){t&&d(e)}}}function Ut(t){let e,n,s=t[0]&&Jt(t);return{c(){s&&s.c(),e=h()},m(t,r){s&&s.m(t,r),i(t,e,r),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),C(s,1)):(s=Jt(t),s.c(),C(s,1),s.m(e.parentNode,e)):s&&(D(),E(s,1,1,()=>{s=null}),A())},i(t){n||(C(s),n=!0)},o(t){E(s),n=!1},d(t){s&&s.d(t),t&&d(e)}}}function Rt(t,e,n){let s,r,l;return a(t,ct,t=>n(1,s=t)),a(t,at,t=>n(2,r=t)),t.$$.update=()=>{6&t.$$.dirty&&n(0,l=s.find(t=>t.dex===+r))},[l]}class Vt extends V{constructor(t){super(),R(this,t,Rt,Ut,l,{})}}function Wt(t,e,n){const s=t.slice();return s[7]=e[n],s}function Kt(t,e){let n,s,r,l,a,o=e[7].title+"";return{key:t,first:null,c(){n=f("a"),s=m(o),r=p(),$(n,"class","mb-1"),$(n,"href",l="./?dex="+e[7].dex),$(n,"data-dex",a=e[7].dex),this.first=n},m(t,e){i(t,n,e),c(n,s),c(n,r)},p(t,e){1&e&&o!==(o=t[7].title+"")&&b(s,o),1&e&&l!==(l="./?dex="+t[7].dex)&&$(n,"href",l),1&e&&a!==(a=t[7].dex)&&$(n,"data-dex",a)},d(t){t&&d(n)}}}function Qt(e){let n,s,r,l,a,o,u,h,b,y,x,k,M,L=[],S=new Map,_=e[0];const P=t=>t[7].dex;for(let t=0;t<_.length;t+=1){let n=Wt(e,_,t),s=P(n);S.set(s,L[t]=Kt(s,n))}return{c(){n=f("div"),s=f("details"),r=f("summary"),r.innerHTML='<h3 class="d-ib">History</h3>',l=p(),a=f("div"),o=f("div");for(let t=0;t<L.length;t+=1)L[t].c();u=p(),h=f("hr"),b=p(),y=f("a"),x=m("Share ðŸ”—"),$(o,"class","df fd-c fd-cr"),$(y,"href",k="./?"+e[1]),w(y,"margin-left","5em"),s.open=!0,$(n,"class","card history svelte-4e4l9n")},m(t,d){i(t,n,d),c(n,s),c(s,r),c(s,l),c(s,a),c(a,o);for(let t=0;t<L.length;t+=1)L[t].m(o,null);c(a,u),c(a,h),c(a,b),c(a,y),c(y,x),M=g(o,"click",v(e[2]))},p(t,[e]){const n=t[0];L=O(L,e,P,1,t,n,S,o,G,Kt,null,Wt),2&e&&k!==(k="./?"+t[1])&&$(y,"href",k)},i:t,o:t,d(t){t&&d(n);for(let t=0;t<L.length;t+=1)L[t].d();M()}}}function Xt(t,e,n){let s,r,l;a(t,ct,t=>n(3,s=t)),a(t,ot,t=>n(4,r=t)),a(t,at,t=>n(5,l=t));let c=[],i="";function d(t){let e=s.find(e=>e.dex===t);return`#${t} ${e&&e.name||"-"}`}return t.$$.update=()=>{24&t.$$.dirty&&(n(0,c=r.map(t=>({dex:t,title:d(t)}))),n(1,i=r.map(t=>`dex=${t}`).reverse().join("&")))},[c,i,function(t){t.target.href&&o(at,l=+t.target.dataset.dex)}]}class Yt extends V{constructor(t){super(),R(this,t,Xt,Qt,l,{})}}function Zt(e){let n,r,l,a,o,u,h,v,b,y,w,x,k,M,L;return{c(){n=f("div"),r=f("label"),l=m("List\n    "),a=f("input"),o=p(),u=f("div"),h=m("\n    Grid"),v=p(),b=f("label"),y=m("Light\n    "),w=f("input"),x=p(),k=f("div"),M=m("\n    Dark"),$(a,"class","switcher-checkbox"),$(a,"type","checkbox"),$(u,"class","switcher-icon"),$(r,"class","gridview-switcher switcher mb-2"),$(w,"class","switcher-checkbox"),$(w,"type","checkbox"),$(k,"class","switcher-icon"),$(b,"class","darktheme-switcher switcher mb-2"),$(n,"class","settings svelte-ciyq2s")},m(t,s){i(t,n,s),c(n,r),c(r,l),c(r,a),a.checked=e[0],c(r,o),c(r,u),c(r,h),c(n,v),c(n,b),c(b,y),c(b,w),w.checked=e[1],c(b,x),c(b,k),c(b,M),L=[g(a,"change",e[2]),g(w,"change",e[3])]},p(t,[e]){1&e&&(a.checked=t[0]),2&e&&(w.checked=t[1])},i:t,o:t,d(t){t&&d(n),s(L)}}}function te(t,e,n){let s,r;return a(t,ut,t=>n(0,s=t)),a(t,ft,t=>n(1,r=t)),[s,r,function(){s=this.checked,ut.set(s)},function(){r=this.checked,ft.set(r)}]}class ee extends V{constructor(t){super(),R(this,t,te,Zt,l,{})}}function ne(e){let n,s,r,l;const a=new ee({});return{c(){n=f("footer"),B(a.$$.fragment),s=p(),r=f("div"),r.innerHTML='\n    GitHub repo:\n    <a href="https://github.com/rplus/PvP-moves" class="svelte-1mo9z3x">https://github.com/rplus/PvP-moves</a>\n    Database:\n    <a href="https://pvpoketw.com/" class="svelte-1mo9z3x">https://pvpoketw.com/</a>',$(r,"class","page-intro svelte-1mo9z3x"),$(n,"class","footer df ai-fe svelte-1mo9z3x")},m(t,e){i(t,n,e),J(a,n,null),c(n,s),c(n,r),l=!0},p:t,i(t){l||(C(a.$$.fragment,t),l=!0)},o(t){E(a.$$.fragment,t),l=!1},d(t){t&&d(n),q(a)}}}class se extends V{constructor(t){super(),R(this,t,null,ne,l,{})}}function re(t){let e,n,s,r,l;const a=new ht({}),o=new Vt({}),u=new Yt({}),m=new se({});return{c(){e=f("div"),B(a.$$.fragment),n=p(),B(o.$$.fragment),s=p(),B(u.$$.fragment),r=p(),B(m.$$.fragment),$(e,"class","workspace"),x(e,"darktheme",t[0]),x(e,"gridview",t[1])},m(t,d){i(t,e,d),J(a,e,null),c(e,n),J(o,e,null),c(e,s),J(u,e,null),c(e,r),J(m,e,null),l=!0},p(t,[n]){1&n&&x(e,"darktheme",t[0]),2&n&&x(e,"gridview",t[1])},i(t){l||(C(a.$$.fragment,t),C(o.$$.fragment,t),C(u.$$.fragment,t),C(m.$$.fragment,t),l=!0)},o(t){E(a.$$.fragment,t),E(o.$$.fragment,t),E(u.$$.fragment,t),E(m.$$.fragment,t),l=!1},d(t){t&&d(e),q(a),q(o),q(u),q(m)}}}function le(t,e,n){let s,r;return a(t,ft,t=>n(0,s=t)),a(t,ut,t=>n(1,r=t)),[s,r]}return new class extends V{constructor(t){super(),R(this,t,le,re,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
